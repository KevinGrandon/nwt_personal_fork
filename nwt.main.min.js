(function(){function a(){}function c(a){this._node=a}function d(){}function e(a){function h(a){return function(){for(var b=0,c;c=g.nodes[b];b++)c[a].apply(c,arguments)}}var b=[];for(var d=0,e;e=a[d];d++)b.push(new c(e));this.nodes=b;var f=["remove","addClass","removeClass"],g=this;for(var d=0,i;i=f[d];d++)this[i]=h(i)}function f(a){this.req=null,this.config={},this.url=a[0];var b=["success","failure","serialize"],c,d,e=this;for(c=0,d;d=b[c];c++)this[d]=function(a){return e.config[d]=a,this}}var b=new a;window.nwt=b,c.prototype.ancestor=function(a){var c=b.all(a),d=this._node,e=null,f=0;if(c.size()==0)return null;for(;;){c.each(function(a){a._node==d&&(e=a)});var g=d.parentNode;if(e||!g)break;d=g}return e?e:null},c.prototype.parent=function(){return this._node=this._node.parentNode,this},c.prototype.hasClass=function(a){return this._node.className&&this._node.className.indexOf(a)!==-1},c.prototype.addClass=function(a){return this.hasClass(a)||(this._node.className=this._node.className+" "+a),this},c.prototype.removeClass=function(a){return this._node.className=this._node.className.replace(a,""),this},c.prototype.data=function(a){return this._node.getAttribute("data-"+a)},c.prototype.get=function(a){if(a==="parentNode"){var b=this._node[a];return b?new c(b):null}return this._node[a]},c.prototype.set=function(a,b){return this._node[a]=b,this},c.prototype.getAttribute=function(a){return this._node.getAttribute(a)},c.prototype.setAttribute=function(a,b){return this._node.setAttribute(a,b),this},c.prototype.getStyle=function(a){if(!this._node.getAttribute("style"))return"";var b=this._node.getAttribute("style").match(new RegExp(a+":([a-zA-Z0-9-.]*);"),"");return b&&b[1]?b[1]:null},c.prototype.setStyle=function(a,b){this._node.getAttribute("style")||this._node.setAttribute("style","");var c=this._node.getAttribute("style").replace(new RegExp(a+":[a-zA-Z0-9-]*;"),"");return c+=a+":"+b+";",this._node.setAttribute("style",c),this},c.prototype.on=function(a,b){this._node.addEventListener(a,function(a){b(new NWTEventWrapper(a))},!1)},c.prototype.serialize=function(){var a="",b=this._node.getElementsByTagName("*");for(var c=0,d;d=b[c];c++)if(!d.disabled&&d.name&&d.name.length>0)switch(d.tagName.toLowerCase()){case"input":switch(d.type){case"checkbox":case"radio":d.checked&&(a.length>0&&(a+="&"),a+=d.name+"="+encodeURIComponent(d.value));break;case"hidden":case"password":case"text":a.length>0&&(a+="&"),a+=d.name+"="+encodeURIComponent(d.value)}break;case"select":case"textarea":a.length>0&&(a+="&"),a+=d.name+"="+encodeURIComponent(d.value)}return a},c.prototype.getContent=function(a){return this._node.innerHTML},c.prototype.setContent=function(a){this._node.innerHTML=a},c.prototype.next=function(){var a=this._node.nextSibling;return new c(a)},c.prototype.previous=function(){var a=this._node.previousSibling;return new c(a)},c.prototype.one=function(a){var b=this._node.querySelector(a);return new c(b)},c.prototype.all=function(a){var b=this._node.querySelectorAll(a);return new e(b)},c.prototype.append=function(a){return a instanceof c&&(a=a._node),this._node.appendChild(a),this},c.prototype.remove=function(){this._node.parentNode.removeChild(this._node)},c.prototype.insert=function(a,b){b=b||"before",b=="before"?this._node.parentNode.insertBefore(a._node,this._node):b=="after"&&this._node.parentNode.insertBefore(a._node,this.next()._node)},c.prototype.click=function(){var a=document.createEvent("HTMLEvents");return a.initEvent("click",!0,!0),!this._node.dispatchEvent(a)},d.prototype.create=function(a){var b=document.createElement("div");return b.innerHTML=a,new c(b.childNodes[0])},d.prototype.one=function(a){if(typeof a=="string"){var b=document.querySelectorAll(a);return b.length==0?null:new c(b[0])}return new c(a)},d.prototype.all=function(a){var b=document.querySelectorAll(a);return new e(b)},b.node=new d,b.one=b.node.one,e.prototype.each=function(a){for(var b=0,c;c=this.nodes[b];b++)a(c)},e.prototype.item=function(a){return this.nodes[a]},e.prototype.size=function(){return this.nodes.length},b.all=b.node.all,f.prototype._run=function(a){var b=this;return this.req=new XMLHttpRequest,this.req.open(a,this.url),this.req.onreadystatechange=function(){var a;b.req.readyState==4&&b.req.status==200?a="success":b.req.readyState==4&&(a="failure"),a&&b[a]&&b[a](b.req.responseText)},this.req.send(),this},f.prototype.post=function(){return this._run("POST")},f.prototype.get=function(){return this._run("GET")},f.prototype.put=function(){return this._run("PUT")},f.prototype.delete=function(){},b.io=function(){return new f(arguments)}})()